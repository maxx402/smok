# 戒烟App功能需求文档

## 1. 项目概述

**项目名称：** 戒烟助理App
**项目类型：** Flutter移动应用（离线版本，不依赖后端服务）
**目标用户：** 想要戒烟的用户群体

## 2. 核心功能模块

### 2.1 戒烟时长跟踪模块 🕒

**功能描述：** 实时跟踪用户的戒烟进度

**详细功能：**
- 设置戒烟开始日期和时间
- 实时显示戒烟时长（天数、小时、分钟）
- 戒烟里程碑展示（1天、1周、1个月、3个月、1年等）
- 节省金钱计算（基于用户设置的每日吸烟花费）
- 健康改善时间线（基于医学研究数据）

**数据存储：**
- 戒烟开始时间
- 每日吸烟花费设置
- 历史重启记录

### 2.2 健康提醒模块 💊

**功能描述：** 定时提醒和健康知识推送

**详细功能：**
- 可自定义的提醒通知
  - 喝水提醒
  - 深呼吸练习提醒
  - 运动提醒
  - 积极心态提醒
- 健康小贴士轮播
- 戒烟过程中的生理反应说明
- 应对烟瘾的实用技巧推送
- 提醒频率和时间段自定义设置

**数据存储：**
- 提醒设置（频率、时间、类型）
- 健康知识库（本地存储）
- 用户查看历史

### 2.3 成就打卡模块 🏆

**功能描述：** 游戏化的激励系统

**详细功能：**
- 戒烟成就系统
  - 时间类成就（戒烟1天、1周、1个月等）
  - 健康类成就（肺部恢复、味觉恢复等）
  - 经济类成就（节省100元、500元等）
  - 毅力类成就（拒绝香烟次数）
- 每日打卡功能
  - 心情记录（1-10分评分）
  - 烟瘾强度记录
  - 今日感受文字记录
- 成就徽章展示界面
- 打卡日历视图
- 进度统计图表

**数据存储：**
- 成就解锁记录
- 每日打卡数据
- 心情和烟瘾历史数据
- 用户感受文字记录

### 2.4 个人设置模块 ⚙️

**功能描述：** 个性化配置中心

**详细功能：**
- 个人信息设置
  - 昵称设置
  - 头像选择（本地图片库）
  - 性别、年龄
- 戒烟相关设置
  - 每日吸烟花费
  - 每天吸烟支数（用于计算）
  - 吸烟年数
  - 戒烟原因记录
- 通知设置
  - 推送通知开关
  - 提醒时间段设置
  - 通知类型选择
- 数据管理
  - 数据备份（导出JSON文件）
  - 数据恢复（导入JSON文件）
  - 重置所有数据
- 应用设置
  - 主题颜色选择
  - 字体大小调节

**数据存储：**
- 用户个人信息
- 应用配置参数
- 通知设置参数

### 2.5 语言切换模块 🌐

**功能描述：** 多语言国际化支持

**详细功能：**
- 支持语言
  - 简体中文
  - 繁体中文
  - English
  - 日本語（可选）
- 实时语言切换（无需重启应用）
- 语言包本地化存储
- 根据系统语言自动选择默认语言

**数据存储：**
- 用户语言偏好设置
- 本地语言资源文件

## 3. 用户界面设计

### 3.1 主要页面结构

```
底部导航栏 (TabBar)
├── 首页 - 戒烟时长展示
├── 打卡 - 每日打卡和成就
├── 提醒 - 健康提醒设置
└── 设置 - 个人设置中心
```

### 3.2 页面流程

1. **首次启动：** 引导页面 → 设置戒烟开始时间 → 个人信息配置
2. **日常使用：** 首页查看进度 → 打卡记录 → 查看成就
3. **设置配置：** 个人设置 → 提醒设置 → 语言切换

## 4. 技术实现要点

### 4.1 数据存储方案
- 使用 `shared_preferences` 存储用户设置
- 使用 `sqflite` 存储打卡历史数据
- JSON格式数据备份和恢复

### 4.2 所需依赖包
```yaml
dependencies:
  flutter_localizations:  # 国际化
  shared_preferences:     # 本地存储
  sqflite:               # 数据库
  flutter_local_notifications:  # 本地通知
  charts_flutter:        # 图表展示
  intl:                  # 日期格式化
  path_provider:         # 文件路径
```

### 4.3 通知功能
- 使用 `flutter_local_notifications` 实现本地推送
- 支持定时提醒、每日打卡提醒
- 重要里程碑庆祝通知

### 4.4 数据可视化
- 戒烟时长进度条
- 每日心情统计图表
- 成就解锁时间线
- 月度/年度统计报告

## 5. 用户价值

1. **激励作用：** 通过可视化的进度和成就系统激励用户坚持
2. **科学指导：** 提供基于医学研究的健康恢复时间线
3. **习惯培养：** 通过打卡和提醒帮助建立健康生活习惯
4. **隐私保护：** 完全离线，用户数据不上传到服务器
5. **个性化：** 支持多语言和个性化设置

## 6. 开发优先级

### Phase 1 (核心功能)
- 戒烟时长跟踪
- 基础设置功能
- 简单的打卡功能

### Phase 2 (增强功能)
- 成就系统完善
- 健康提醒功能
- 数据统计图表

### Phase 3 (优化功能)
- 多语言支持
- 数据导入导出
- 界面美化优化

---

*这个功能文档为戒烟App的开发提供了详细的功能规划，确保应用能够真正帮助用户成功戒烟并保持动力。*